python使用的比较多的代码规范包括2种，分别如下：
- [pep8 python编码规范](https://www.python.org/dev/peps/pep-0008/)
- [google python编码规范](https://google.github.io/styleguide/pyguide.html)

pep8是python编码规范的事实标准，google python编码规范做了更多的说明，可以作为pep8的补充。
这也意味着python社区开源贡献者基本都遵守pep8，但不一定遵守google的python编码规范。

## pep8规范


- 缩进使用4个空格
- 文件应该使用UTF-8编码, 且不应该有编码声明
- 导入库的顺序：标准库导入、有关的第三方库进口、本地应用程序/库特定的导入，每组导入直接用空行分隔；避免通配符导入（import *）

- 字符串
	- 单引号字符串和双引号字符串相同，代码保持一致即可
	- 对于三引号字符串，常用三个双引号作文档字符串，文档字符串常用在模块的开端用以说明模块的基本功能，或紧跟函数定义的后面用以说明函数的基本功能



- 注释
	- 注释应该是完整的语句，第一个单词应该大写，除非它是特定标识符
	- 块注释：缩进到与该代码相同的级别。块注释的每一行都以＃和一个空格开始
	- 行注释：对某一语句行进行注释，注释应该与语句至少隔开两个空格，用＃和一个空格开始
	- 对于公共的modules, functions, classes, and methods，需要写文档字符串


- 命名约定
	- **文件名**、**目录名**：小写+下划线
	- **模块名**：使用简短、全小写的名字
	- **类名**：大驼峰命名法
	- **函数名**、**方法名**、**变量名**：小写+下划线
	- **常量名**：全大写+下划线
	- **私有成员**：可以在变量名或方法名前加上一个下划线前缀，表示它们是私有的，例如：`_my_private_variable`
	- 不要将字符’l’（小写字母l），’O’（大写字母o）或’I’（大写字母I）作为**单个字符变量名称**
	- python命名规范有点混乱，很难完全保存一致。对于新模块和包，应该遵守这些新的约定，已存在的库内部一致性更重要
	- 避免使用内置关键字作为变量名，例如不要使用名为 int、list 或 str 的变量。




## google编码规范

相比pep8，google编码规范对怎么写代码的细节要求更多。比如怎么使用异常，文档字符串怎么写，Todo注释的使用等。

2.1 背景
- 可以使用yapf自动格式化工具来格式化代码

2.2 python语言规则
- 使用google的pylintrc配置文件来允许pylint


2.3 python风格规则
- **不使用分号**作为行尾，不使用分号将2个语句放到同一行
- 不要在return语句或条件语句使用括号，除非使用括号来表示连续行或元组
- main文件使用`#!/usr/bin/env python3` 或`#!/usr/bin/python3`开头，绝大部分文件不需要使用#！开头
- 使用 f-string，%操作符或者format函数来格式化字符串


## 工具
- [autopep8](https://github.com/hhatto/autopep8) – autopep8是一款将python代码自动排版为PEP8风格的工具，它使用 pycodestyle来决定哪部分代码需要格式化
- [yapf](https://github.com/google/yapf/)–yapf是google开源的一个用于格式化Python代码的工具，可以一键美化代码，支持两种规范：PEP8和Google Style